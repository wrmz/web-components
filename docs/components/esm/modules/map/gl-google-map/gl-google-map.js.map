{"version":3,"file":"gl-google-map.js","sources":["../../../../../../src/modules/map/gl-google-map/gl-google-map.js"],"sourcesContent":["/*global google*/\nimport { GlMap } from '../gl-map/gl-map.js';\nimport GlGoogleImageFactory from './gl-google-image.factory.js';\n\n/**\n * @injectHTML\n */\nexport class GlGoogleMap {\n    static async getStyle(url) {\n        if (!url) return null;\n\n        const response = await fetch(url);\n        const json = await response.json();\n\n        return json;\n    }\n\n    #id = '';\n    #previousMode;\n    #previousState;\n    #currentMode = GlMap.MODES.DEFAULT;\n    #currentState = GlMap.STATES.LOADING;\n    #map;\n    #mapElem;\n    #tileMap;\n    #legendElem;\n    #imageElem;\n    #detailElem;\n    #glMarkers = [];\n    #markers = [];\n    #subscribers = [];\n    #activeMarker;\n\n    // Map layers\n    #styleLayer;\n    #imageLayer;\n\n    constructor(id, mapElem, {\n        latitude,\n        longitude,\n        mapStyle = null,\n        mapTiles = null,\n        legendElem = null,\n        imageElem = null,\n        markerElems = [],\n        detailElem = null\n    }) {\n        this.#id = id;\n        this.#mapElem = mapElem;\n        this.#legendElem = legendElem;\n        this.#imageElem = imageElem;\n        this.#detailElem = detailElem;\n        this.latitude = latitude;\n        this.longitude = longitude;\n        this.mapStyle = mapStyle;\n        this.mapTiles = mapTiles;\n        this.tileMap = null;\n        this.loadDetailTimeout = null;\n        this.imageNE = 0.0;\n        this.imageNW = 0.0;\n        this.imageSW = 0.0;\n        this.imageSE = 0.0;\n        this.mapControls = {\n            recenter: null,\n            resize: null,\n            drag: null,\n            addMarker: null,\n            removeMarker: null,\n        };\n\n        this.loadTimeout = null;\n\n        this.emitMarkerEvent = this.emitMarkerEvent.bind(this);\n        this.createMarker = this.createMarker.bind(this);\n        this.recenterMap = this.recenterMap.bind(this);\n        this.restrictPanning = this.restrictPanning.bind(this);\n        this.toggleResizeState = this.toggleResizeState.bind(this);\n        this.toggleDragState = this.toggleDragState.bind(this);\n        this.toggleAddMarkerState = this.toggleAddMarkerState.bind(this);\n        this.toggleRemoveMarkerState = this.toggleRemoveMarkerState.bind(this);\n        this.getNormlizedTileCoord = this.getNormlizedTileCoord.bind(this);\n        this.onLoaded = this.onLoaded.bind(this);\n        this.onAddMarkerClick = this.onAddMarkerClick.bind(this);\n\n        if (this.mapTiles) {\n            this.map = new google.maps.Map(this.#mapElem, {\n                center: { lat: 0, lng: 0 },\n                mapTypeControl: false,\n                scaleControl: false,\n                streetViewControl: false,\n                fullscreenControl: false,\n                zoomControlOptions: {\n                    position: google.maps.ControlPosition.TOP_LEFT\n                },\n                zoom: 1,\n                // @todo - I do not know why these defaults work.\n                restriction: {\n                    latLngBounds: {\n                        north: 88.999,\n                        south: -88.999,\n                        west: -179.999,\n                        east: 179.999,\n                    },\n                    strictBounds: false,\n                }\n            });\n\n            this.tileMap = new google.maps.ImageMapType({\n                getTileUrl: this.getNormlizedTileCoord,\n                tileSize: new google.maps.Size(256, 256),\n                maxZoom: 3,\n                minZoom: 2,\n                name: `tileMap${this.#id}`\n            });\n\n            this.map.mapTypes.set(`tileMap${this.#id}`, this.tileMap);\n            this.map.setMapTypeId(`tileMap${this.#id}`);\n        } else {\n            this.map = new google.maps.Map(this.#mapElem, {\n                center: { lat: this.latitude, lng: this.longitude },\n                mapTypeControl: false,\n                scaleControl: false,\n                streetViewControl: false,\n                fullscreenControl: false,\n                zoomControlOptions: {\n                    position: google.maps.ControlPosition.TOP_LEFT\n                },\n                zoom: 17,\n                maxZoom: 19,\n                minZoom: 10,\n            });\n            this.setMapStyle();\n        }\n\n        this.map.addListener('dragend', this.restrictPanning);\n        this.markers = markerElems;\n\n        this.loadImage();\n        this.createLegendControl();\n        this.createCenterMapControl();\n        this.createResizeMapControl();\n        this.createDragMapControl();\n        this.createAddMarkerControl();\n        this.createRemoveMarkerControl();\n        this.loadTimeout = setTimeout(this.onLoaded, 1000);\n    }\n\n    async setMapStyle() {\n        const mapStyle = await GlGoogleMap.getStyle(this.mapStyle);\n\n        if (mapStyle) {\n            this.styleLayer = new google.maps.StyledMapType(mapStyle, { name: `Map${this.#id}` });\n            this.map.mapTypes.set(`map_${this.#id}`, this.styleLayer);\n            this.map.setMapTypeId(`map_${this.#id}`);\n        }\n    }\n\n    loadImage() {\n        if (!this.#imageElem || (this.#imageElem && !this.#imageElem.hasAttribute('src'))) {\n            this.#imageLayer = GlGoogleImageFactory.create(this);\n        } else {\n            const imageUrl = this.#imageElem.getAttribute('src');\n            this.#imageLayer = GlGoogleImageFactory.create(this, this.#imageElem);\n        }\n    }\n\n    /**\n     * Normlizes tile coordinates for a tiled map image so that\n     * tiles repeat across the x axis (horizontally)\n     * @param {*} coord\n     * @param {*} zoom\n     */\n    getNormlizedTileCoord(coord, zoom) {\n        // Tile range in one direction range is dependent on zoom level\n        // 0 = 1 tile, 1 = 2 tiles, 2 = 4 tiles, 3 = 8 times, etc\n        const tileRange = 1 << zoom;\n        const bound = Math.pow(2, zoom);\n        const y = coord.y;\n        let x = coord.x;\n\n        // Don't repeat acros y-axis (vertically)\n        if (y < 0 || y >= tileRange) {\n            return '';\n        }\n        // Repeat across x-axis\n        if (x < 0 || x >= tileRange) {\n            x = ((x % tileRange) + tileRange) % tileRange;\n        }\n\n        return this.mapTiles\n            .replace('{x}', x)\n            .replace('{y}', y)\n            .replace('{z}', zoom);\n    }\n\n    /**\n     * Generates a marker\n     *\n     * @param {GlMarker} marker\n     * @returns {google.maps.Marker}\n     */\n    createMarker(marker) {\n        const mapMarker = new google.maps.Marker({\n            map: this.map,\n            id: marker.id,\n            type: 'client',\n            status: marker.status,\n            color: marker.color,\n            isSelected: false,\n            position: { lat: marker.latitude, lng: marker.longitude },\n            path: marker.path,\n            icon: {\n                path: marker.path,\n                fillColor: marker.color,\n                fillOpacity: 1,\n                strokeWeight: 0,\n                strokeColor: '#ffffff',\n                anchor: new google.maps.Point(10, 22)\n            },\n            animation: google.maps.Animation.DROP,\n            draggable: this.mode === 'admin',\n        });\n\n        marker.mapMarker = mapMarker;\n        mapMarker.addListener('mouseover', this.onMarkerMouseover.bind(this, marker, mapMarker));\n        mapMarker.addListener('mouseout', this.onMarkerMouseout.bind(this, marker, mapMarker));\n        mapMarker.addListener('dragend', this.onMarkerDragend.bind(this, marker, mapMarker));\n        mapMarker.addListener('click', this.onMarkerClick.bind(this, marker, mapMarker));\n        return mapMarker;\n    }\n\n    /**\n     * Emits a marker event from GlGoogleMap\n     *\n     * @this GlGoogleMap\n     * @param {string} eventType\n     * @param {GlMarker} glMarker\n     * @param {google.maps.Marker} marker\n     * @param {google.maps.event} event\n     * @emits CustomEvent\n     */\n    emitMarkerEvent(eventType, glMarker, marker, event) {\n        const customEvent = new CustomEvent(eventType, {\n            detail: {\n                map: this,\n                marker: marker,\n                glMarker: glMarker,\n                pixel: event.pixel,\n                domEvent: event.domEvent,\n                position: {\n                    latitude: event.latLng.lat(),\n                    longitude: event.latLng.lng()\n                }\n            }\n        });\n\n        this.dispatchEvent(customEvent);\n    }\n\n    /**\n     * ons & dispatches from GlGoogleMap a marker click event\n     *\n     * @this GlGoogleMap\n     * @param {GlGoogleMap} glMarker\n     * @param {google.maps.Marker} marker\n     * @param {google.maps.event} event\n     * @emits GlGoogleMap#click\n     */\n    onMarkerClick(glMarker, marker, event) {\n        this.markers.forEach((m) => {\n            const isSelected = m.id === marker.id;\n            m.setIcon({\n                path: glMarker.path,\n                fillColor: isSelected ? 'white' : m.color ,\n                fillOpacity: 1,\n                strokeWeight: 0,\n                anchor: new google.maps.Point(10, 22),\n            });\n        });\n\n        this.panToSelectedMarker(marker);\n        this.notifySubscribers('marker-click', { glMarker, event });\n    }\n\n    /**\n     * ons & dispatches from GlGoogleMap a marker drag event\n     *\n     * @this GlGoogleMap\n     * @param {GlMarker} glMarker\n     * @param {google.maps.Event} event\n     * @emits GlGoogleMap#drag\n     */\n    onMarkerDrag(glMarker, event) {\n        this.notifySubscribers('marker-drag', { glMarker, event });\n    }\n\n    /**\n     * ons & dispatches from GlGoogleMap a marker dragend event\n     *\n     * @this GlGoogleMap\n     * @param {GlMarker} glMarker\n     * @param {google.maps.Marker} marker\n     * @param {google.maps.Event} event\n     * @emits GlGoogleMap#dragend\n     */\n    onMarkerDragend(glMarker, marker, event) {\n        this.notifySubscribers('marker-dragend', { glMarker, event });\n    }\n\n    /**\n     * ons & dispatches from GlGoogleMap a marker dragstart event\n     *\n     * @this GlGoogleMap\n     * @param {GlMarker} glMarker\n     * @param {google.maps.Marker} marker\n     * @param {google.maps.Event} event\n     * @emits GlGoogleMap#dragstart\n     */\n    onMarkerDragstart(glMarker, marker, event) {\n        this.notifySubscribers('marker-dragstart', { glMarker, event });\n    }\n\n    /**\n     * ons & dispatches from GlGoogleMap a marker mouseover event\n     *\n     * @this GlGoogleMap\n     * @param {GlMarker} glMarker\n     * @param {google.maps.Marker} marker\n     * @param {google.maps.event} event\n     * @emits GlGoogleMap#mouseover\n     */\n    onMarkerMouseover(glMarker, marker, event) {\n        if (!marker.isSelected) {\n            marker.setIcon({\n                path: glMarker.path,\n                fillColor: 'white',\n                fillOpacity: 1,\n                strokeWeight: 0,\n                anchor: new google.maps.Point(10, 22)\n            });\n        }\n\n        this.notifySubscribers('marker-mouseover', { glMarker, event });\n    }\n\n    /**\n     * ons & dispatches from GlGoogleMap a marker mouseout event\n     *\n     * @this GlGoogleMap\n     * @param {GlMarker} glMarker\n     * @param {google.maps.Marker} marker\n     * @param {google.maps.event} event\n     * @emits GlGoogleMap#mouseout\n     */\n    onMarkerMouseout(glMarker, marker, event) {\n        if (!marker.isSelected) {\n            marker.setIcon({\n                path: glMarker.path,\n                fillColor: marker.color,\n                fillOpacity: 1,\n                strokeWeight: 0,\n                anchor: new google.maps.Point(10, 22)\n            });\n        }\n\n        this.notifySubscribers('marker-mouseout', { glMarker, event });\n    }\n\n    onLoaded() {\n        clearTimeout(this.loadTimeout);\n        this.loadTimeout = null;\n        this.state = GlMap.STATES.DEFAULT;\n    }\n\n    /**\n     * Creates a button that fires a click event ond by `this.recenterMap`.\n     */\n    createCenterMapControl() {\n        const recenterButton = document.createElement('button');\n        recenterButton.type = 'button';\n        recenterButton.title = 'Reorient the map to the Image position.';\n        recenterButton.className = 'gl-map__button gl-map__recenter';\n        recenterButton.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\"><path fill=\"currentColor\" d=\"M10 0c5.52285 0 10 4.47715 10 10s-4.47715 10-10 10S0 15.52285 0 10 4.47715 0 10 0ZM3.72462 10.63068h-2.4409c.30834 4.32356 3.76204 7.77726 8.0856 8.0856v-2.4409c-2.97945-.29584-5.34886-2.66525-5.6447-5.6447Zm14.99251-.01202-.04376.00775-.07354.00424-2.32445.00007c-.29584 2.97941-2.66525 5.34882-5.6447 5.64466v2.4409c4.32757-.30863 7.78366-3.76844 8.08645-8.09762Zm-8.08627-4.35022-.0002.89139c0 .3483-.28236.63065-.63066.63065-.32342 0-.58998-.24346-.62641-.5571l-.00424-.07355-.00021-.8914c-1.58435.2659-2.8348 1.51636-3.1007 3.1007l1.1959.00022c.3483 0 .63065.28235.63065.63065 0 .32342-.24345.58998-.5571.62641l-.07355.00424-1.1959.00021c.2659 1.58435 1.51635 2.8348 3.1007 3.1007l.0002-1.21748c0-.3483.28236-.63065.63066-.63065.32342 0 .58998.24346.62641.5571l.00424.07355.00021 1.21748c1.58435-.2659 2.8348-1.51635 3.1007-3.1007l-1.38427-.0002c-.3483 0-.63065-.28236-.63065-.63066 0-.32342.24346-.58998.5571-.62641l.07355-.00424 1.38427-.00021c-.2659-1.58435-1.51635-2.8348-3.1007-3.1007Zm-.00018-4.98472v2.4409c2.97945.29584 5.34886 2.66525 5.6447 5.64466l2.32445.00007a.6341.6341 0 0 1 .11726.01088c-.30275-4.32807-3.75884-7.78788-8.0864-8.09651Zm-9.34696 8.0856h2.4409c.29584-2.97945 2.66525-5.34886 5.6447-5.6447v-2.4409c-4.32356.30834-7.77726 3.76204-8.0856 8.0856Z\"/></svg>';\n        this.mapControls.recenter = recenterButton;\n        this.mapControls.recenter.addEventListener('click', this.recenterMap, false);\n        this.map.controls[google.maps.ControlPosition.TOP_LEFT].push(this.mapControls.recenter);\n    }\n\n    createResizeMapControl() {\n        const resizeButton = document.createElement('button');\n        resizeButton.type = 'button';\n        resizeButton.title = 'Resize the Image.';\n        resizeButton.className = 'gl-map__button gl-map__resize';\n        resizeButton.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"21\" viewBox=\"0 0 20 21\"><path fill=\"currentColor\" fill-rule=\"nonzero\" d=\"m19.831.574.051.061.064.111.018.046.02.065.01.051.006.093v16a.625.625 0 0 1-1.243.092l-.007-.092V2.508l-3.756 3.758.006.11v13a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1v-13a1 1 0 0 1 1-1h13l.109.006 3.757-3.756H3.375A.625.625 0 0 1 3.283.383l.092-.007h16c.04 0 .079.003.117.01l.06.015.067.024.063.031.068.045.081.073ZM12.5 7.875h-10v10h10v-10Z\"/></svg>';\n        this.mapControls.resize = resizeButton;\n        this.mapControls.resize.style.display = 'none';\n        this.map.controls[google.maps.ControlPosition.TOP_LEFT].push(this.mapControls.resize);\n    }\n\n    createDragMapControl() {\n        const dragButton = document.createElement('button');\n        dragButton.type = 'button';\n        dragButton.title = 'Drag the Image.';\n        dragButton.className = 'gl-map__button gl-map__drag';\n        dragButton.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"21\" height=\"21\" viewBox=\"0 0 21 21\"><path fill=\"currentColor\" fill-rule=\"nonzero\" d=\"m10.346.875.09.01.078.019.058.021.046.022a.624.624 0 0 1 .15.11l2.17 2.172a.625.625 0 0 1-.813.944l-.07-.06-1.104-1.105v7.242h7.24l-1.103-1.104a.625.625 0 0 1 .814-.944l.07.06 2.171 2.171.064.075.059.099.037.1.02.101.003.088-.01.09-.019.077-.021.058-.022.046a.624.624 0 0 1-.11.15l-2.172 2.17a.625.625 0 0 1-.944-.813l.06-.07 1.104-1.104H10.95v7.241l1.105-1.103a.625.625 0 0 1 .944.813l-.06.07-2.171 2.171-.075.064-.099.06-.1.037-.101.019-.088.003-.09-.01-.077-.018-.058-.022-.046-.022a.624.624 0 0 1-.15-.11l-2.17-2.171a.625.625 0 0 1 .813-.945l.07.06 1.104 1.104V11.5H2.46l1.103 1.104a.625.625 0 0 1-.813.944l-.07-.06-2.171-2.171-.064-.075-.06-.099-.037-.1-.019-.101-.003-.088.01-.09.018-.077.022-.058.022-.046a.624.624 0 0 1 .11-.15l2.171-2.17a.625.625 0 0 1 .945.813l-.06.07-1.105 1.104H9.7V3.008L8.598 4.112a.625.625 0 0 1-.944-.813l.06-.07 2.17-2.171.075-.064.1-.059.1-.038.101-.019.087-.003Z\"/></svg>';\n        this.mapControls.drag = dragButton;\n        this.mapControls.drag.style.display = 'none';\n        this.map.controls[google.maps.ControlPosition.TOP_LEFT].push(this.mapControls.drag);\n    }\n\n    createAddMarkerControl() {\n        const addMarkerButton = document.createElement('button');\n        addMarkerButton.type = 'button';\n        addMarkerButton.title = 'Add a new marker.';\n        addMarkerButton.className = 'gl-map__button gl-map__add-marker';\n        addMarkerButton.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"23\" viewBox=\"0 0 20 23\"><path fill=\"currentColor\" fill-rule=\"nonzero\" d=\"M10 .374c5.523 0 10 4.477 10 10 0 7.508-5.6 12.49-10 12.49S0 18.155 0 10.374c0-5.523 4.477-10 10-10Zm0 3.475A6.526 6.526 0 1 0 10 16.9 6.526 6.526 0 0 0 10 3.85Zm0 2.562c.314 0 .574.23.618.532l.007.093-.001 2.624h2.626a.625.625 0 0 1 .092 1.244l-.092.007-2.626-.001.001 2.626a.625.625 0 0 1-1.243.092l-.007-.092-.001-2.626H6.75a.625.625 0 0 1-.092-1.243l.092-.006 2.624-.001.001-2.624c0-.346.28-.625.625-.625Z\"/></svg>';\n        this.mapControls.addMarker = addMarkerButton;\n        this.mapControls.addMarker.style.display = 'none';\n        this.map.controls[google.maps.ControlPosition.TOP_LEFT].push(this.mapControls.addMarker);\n    }\n\n    createRemoveMarkerControl() {\n        const removeMarkerButton = document.createElement('button');\n        removeMarkerButton.type = 'button';\n        removeMarkerButton.title = 'Add a new marker.';\n        removeMarkerButton.className = 'gl-map__button gl-map__remove-marker';\n        removeMarkerButton.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"24\" viewBox=\"0 0 20 24\"><path fill=\"currentColor\" fill-rule=\"nonzero\" d=\"M10 .677c5.523 0 10 4.477 10 10 0 7.508-5.6 12.49-10 12.49s-10-4.71-10-12.49c0-5.523 4.477-10 10-10Zm0 3.474a6.526 6.526 0 1 0 0 13.051 6.526 6.526 0 0 0 0-13.051Zm3.25 5.812a.625.625 0 0 1 .092 1.243l-.092.007h-6.5a.625.625 0 0 1-.092-1.243l.092-.007h6.5Z\"/></svg>';\n        this.mapControls.removeMarker = removeMarkerButton;\n        this.mapControls.removeMarker.style.display = 'none';\n        this.map.controls[google.maps.ControlPosition.TOP_LEFT].push(this.mapControls.removeMarker);\n    }\n\n    createLegendControl() {\n        this.mapControls.legend = this.#legendElem;\n        this.map.controls[google.maps.ControlPosition.TOP_RIGHT].push(this.mapControls.legend);\n    }\n\n    recenterMap() {\n        console.log('recentering');\n        if (this.#imageLayer) {\n            this.#imageLayer.recenterMap();\n        }\n    }\n\n    restrictPanning() {\n        console.log('restricting');\n        const imageBounds = this.#imageLayer.bounds;\n        const mapBounds = this.map.getBounds();\n        const newMapCenter = this.map.getCenter();\n\n        if (!imageBounds.contains(newMapCenter)) {\n            // Find the nearest point within the image bounds\n            const newLat = Math.max(imageBounds.getSouthWest().lat(), Math.min(imageBounds.getNorthEast().lat(), newMapCenter.lat()));\n            const newLng = Math.max(imageBounds.getSouthWest().lng(), Math.min(imageBounds.getNorthEast().lng(), newMapCenter.lng()));\n\n            // Set the map's center to the nearest point\n            this.map.panTo(new google.maps.LatLng(newLat, newLng));\n        }\n    }\n\n    toggleResizeState() {\n        if (!this.#imageLayer) return;\n        this.state = this.state === GlMap.STATES.RESIZING\n            ? GlMap.STATES.DEFAULT\n            : GlMap.STATES.RESIZING;\n    }\n\n    toggleDragState() {\n        if (!this.#imageLayer) return;\n        this.state = this.state === GlMap.STATES.DRAGGING\n            ? GlMap.STATES.DEFAULT\n            : GlMap.STATES.DRAGGING;\n    }\n\n    toggleAddMarkerState() {\n        this.state = this.state === GlMap.STATES.ADDING_MARKER\n            ? GlMap.STATES.DEFAULT\n            : GlMap.STATES.ADDING_MARKER;\n    }\n\n    toggleRemoveMarkerState() {\n        this.state = this.state === GlMap.STATES.REMOVING_MARKER\n            ? GlMap.STATES.DEFAULT\n            : GlMap.STATES.REMOVING_MARKER;\n    }\n\n    /**\n     * Closes the detail\n     */\n    closeDetail() {\n        this.markers.forEach((marker) => {\n            if (marker.isSelected && marker.type !== 'admin') {\n                marker.setIcon({\n                    path: marker.path,\n                    fillColor: marker.color,\n                    fillOpacity: 1,\n                    strokeWeight: 0,\n                    anchor: new google.maps.Point(10, 22)\n                });\n            }\n        });\n    }\n\n    /**\n     * Converts google latLng coordinates to div pixel coordinates\n     *\n     * @param {google.maps.LatLng} latLng\n     * @returns {Object}\n     */\n    getPixelCoordinate(latLng) {\n        const overlayProjection = this.#imageLayer.getProjection();\n        return overlayProjection.fromLatLngToDivPixel(latLng);\n    }\n\n    setAdminMode(isAdmin) {\n        if (this.map) {\n            this.map.isAdmin = isAdmin;\n        }\n        if (this.#imageLayer) {\n            this.#imageLayer.isAdmin = isAdmin;\n        }\n    }\n\n    /**\n     * Pans the map to a marker which has been selected or clicked\n     * Currently assumes conjunction of `GlGoogleMap.showDetail`,\n     * this the 100px x-coordinate offset\n     *\n     * @param {google.maps.Marker} marker\n     * @param {number=} [offsetX=100]\n     * @param {number=} [offsetY=0]\n     */\n    panToSelectedMarker(marker, offsetX = 100, offsetY = 0) {\n        const projection = this.#imageLayer.getProjection();\n        const pixelPosition = projection.fromLatLngToDivPixel(marker.getPosition());\n        const newPixelPosition = {\n            x: pixelPosition.x + offsetX,\n            y: pixelPosition.y + offsetY\n        };\n\n        this.map.panTo(projection.fromDivPixelToLatLng(newPixelPosition));\n    }\n\n    /**\n     * Handles clicks on the map while in the GlMap.STATES.ADDING_MARKER state\n     * @param {google.maps.MapMouseEvent} e - The google maps click event\n     */\n    onAddMarkerClick(e) {\n        const newMarker = document.createElement('gl-marker');\n        newMarker.latitude = e.latLng.lat();\n        newMarker.longitude = e.latLng.lng();\n        newMarker.status = 'model';\n        newMarker.color = '#60b3df';\n        newMarker.path = 'M10 0c5.52285 0 10 4.47715 10 10 0 7.50794-5.59957 12.48988-10 12.48988S0 17.78101 0 10C0 4.47715 4.47715 0 10 0Zm0 3.4743c-3.60404 0-6.5257 2.92166-6.5257 6.5257 0 3.60404 2.92166 6.5257 6.5257 6.5257 3.60404 0 6.5257-2.92166 6.5257-6.5257 0-3.60404-2.92166-6.5257-6.5257-6.5257Zm0 3.0039c1.94504 0 3.5218 1.57676 3.5218 3.5218 0 1.94504-1.57676 3.5218-3.5218 3.5218-1.94504 0-3.5218-1.57676-3.5218-3.5218 0-1.94504 1.57676-3.5218 3.5218-3.5218Z';\n\n        this.#activeMarker = newMarker;\n\n        this.notifySubscribers('marker-added', {\n            glMarker: this.#activeMarker\n        });\n\n        this.state = GlMap.STATES.ADDING_MARKER;\n    }\n\n    /**\n     * Switches between GlGoogleMap Modes ADMIN and DEFAULT modes.\n     */\n    switchModes() {\n        this.state = GlMap.STATES.DEFAULT;\n\n        // Cleanup\n        if (this.#previousMode === GlMap.MODES.ADMIN) {\n            this.mapControls.resize.style.display = 'none';\n            this.mapControls.drag.style.display = 'none';\n            this.mapControls.addMarker.style.display = 'none';\n            this.mapControls.removeMarker.style.display = 'none';\n            this.markers.forEach((m) => m.setDraggable(false));\n            this.mapControls.resize.removeEventListener('click', this.toggleResizeState);\n            this.mapControls.drag.removeEventListener('click', this.toggleDragState);\n            this.mapControls.addMarker.removeEventListener('click', this.toggleAddMarkerState);\n            this.mapControls.removeMarker.removeEventListener('click', this.toggleRemoveMarkerState);\n            if (this.map) {\n                this.map.addListener('dragend', this.restrictPanning);\n            }\n        }\n\n        // New mode settings\n        if (this.mode === GlMap.MODES.ADMIN) {\n            this.mapControls.resize.style.display = '';\n            this.mapControls.drag.style.display = '';\n            this.mapControls.addMarker.style.display = '';\n            this.mapControls.removeMarker.style.display = '';\n            this.markers.forEach((m) => m.setDraggable(true));\n            this.mapControls.resize.addEventListener('click', this.toggleResizeState, false);\n            this.mapControls.drag.addEventListener('click', this.toggleDragState, false);\n            this.mapControls.addMarker.addEventListener('click', this.toggleAddMarkerState, false);\n            this.mapControls.removeMarker.addEventListener('click', this.toggleRemoveMarkerState, false);\n            if (this.map) {\n                google.maps.event.clearListeners(this.map, 'dragend');\n            }\n        }\n    }\n\n    /**\n     * Switches between GlGoogleMap States\n     */\n    switchStates() {\n        // Cleanup\n        switch (this.#previousState) {\n            case GlMap.STATES.LOADING:\n                break;\n            case GlMap.STATES.RESIZING:\n                this.markers.forEach((m) => m.setVisible(true));\n                this.#imageLayer.state = GlMap.STATES.DEFAULT;\n                this.mapControls.resize.classList.remove('active');\n                break;\n            case GlMap.STATES.DRAGGING:\n                this.markers.forEach((m) => m.setVisible(true));\n                this.#imageLayer.state = GlMap.STATES.DEFAULT;\n                this.mapControls.drag.classList.remove('active');\n                break;\n            case GlMap.STATES.ADDING_MARKER:\n                google.maps.event.clearListeners(this.map, 'click');\n                this.mapControls.addMarker.classList.remove('active');\n                break;\n            case GlMap.STATES.REMOVING_MARKER:\n                this.mapControls.removeMarker.classList.remove('active');\n                break;\n            case GlMap.STATES.CONFIRMING:\n                break;\n            default:\n                break;\n        }\n\n        switch (this.state) {\n            case GlMap.STATES.LOADING:\n                this.pingLoadState(this);\n                break;\n            case GlMap.STATES.RESIZING:\n                this.markers.forEach((m) => m.setVisible(false));\n                this.#imageLayer.state = GlMap.STATES.RESIZING;\n                this.mapControls.resize.classList.add('active');\n                break;\n            case GlMap.STATES.DRAGGING:\n                this.markers.forEach((m) => m.setVisible(false));\n                this.#imageLayer.state = GlMap.STATES.DRAGGING;\n                this.mapControls.drag.classList.add('active');\n                break;\n            case GlMap.STATES.ADDING_MARKER:\n                this.mapControls.addMarker.classList.add('active');\n                this.map.addListener('click', this.onAddMarkerClick);\n                break;\n            case GlMap.STATES.REMOVING_MARKER:\n                this.mapControls.removeMarker.classList.add('active');\n                break;\n            case GlMap.STATES.CONFIRMING:\n                break;\n            default:\n                this.pingLoadState(this);\n                break;\n        }\n        this.notifySubscribers('state', this.state);\n    }\n\n    pingLoadState(component) {\n        let fullyLoaded = true;\n\n        if (this.#imageLayer.state === GlMap.STATES.LOADING) {\n            fullyLoaded = false;\n        }\n\n        if (fullyLoaded) {\n            this.notifySubscribers('load', {\n                state: this.state,\n                progress: 70\n            });\n        }\n\n        if (this.state === GlMap.STATES.LOADING) {\n            fullyLoaded = false;\n        }\n\n        if (fullyLoaded) {\n            this.notifySubscribers('load', {\n                state: this.state,\n                progress: 100\n            });\n        }\n    }\n\n    subscribe(callback) {\n        this.#subscribers.push(callback);\n    }\n\n    notifySubscribers(...data) {\n        this.#subscribers.forEach((callback) => callback(...data));\n    }\n\n    /**\n     * Gets the current mode of the GlGoogleMap instance.\n     * @returns {string} The current mode\n     */\n    get mode() {\n        return this.#currentMode;\n    }\n\n    /**\n     * Sets the current mode of the GlGoogleMap instance, if the provided mode is valid.\n     * @param {string} newMode - The new mode to set.\n     */\n    set mode(newMode) {\n        if (!newMode || newMode === this.#currentMode) return;\n        if (Object.values(GlMap.MODES).includes(newMode)) {\n            this.#previousMode = this.#currentMode;\n            this.#currentMode = newMode;\n            this.switchModes();\n        } else {\n            console.error(`Invalid mode: ${newMode}`);\n        }\n    }\n\n    /**\n     * Gets the current state of the GlGoogleMap instance\n     * @returns {string} The current state\n     */\n    get state() { return this.#currentState; }\n\n    /**\n     * Sets the current state of the GlGoogleMap instance, if the provided state is valid.\n     * @param {string} newState - The new state to set.\n     */\n    set state(newState) {\n        if (!newState || newState === this.#currentState) return;\n        if (Object.values(GlMap.STATES).includes(newState)) {\n            this.#previousState = this.#currentState;\n            this.#currentState = newState;\n            this.switchStates();\n        } else {\n            console.error(`Invalid state: ${newState}`);\n        }\n    }\n\n    get map() {\n        return this.#map;\n    }\n\n    set map(newMap) {\n        this.#map = newMap instanceof google.maps.Map\n            ? newMap\n            : null;\n    }\n\n    get markers() {\n        return this.#markers;\n    }\n\n    set markers(glMarkers) {\n        this.#glMarkers = [...glMarkers];\n        this.#markers = this.#glMarkers.map((glMarker) => {\n            // If GlMarker has already been mapped, return it\n            if (glMarker.mapMarker) return glMarker.mapMarker;\n            return this.createMarker(glMarker);\n        });\n    }\n}\n"],"names":[],"mappings":"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"}