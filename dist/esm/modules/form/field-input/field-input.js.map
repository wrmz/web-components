{"version":3,"file":"field-input.js","sources":["../../../../../src/modules/form/field-input/field-input.js"],"sourcesContent":["import { FormElement } from '../common/FormElement';\n\n/**\n * @injectHTML\n */\nexport class FieldInput extends FormElement {\n\n    constructor() {\n        super();\n        this.input = null;\n        this.handleInput = this.handleInput.bind(this);\n        this.handleKeyup = this.handleKeyup.bind(this);\n        this.handleSlotChange = this.handleSlotChange.bind(this);\n        this.shadowInput = this.shadowRoot.querySelector('slot[name=\"input\"]');\n        this.shadowInput.addEventListener('slotchange', this.handleSlotChange, false);\n    }\n\n    get value() { return this.getAttribute('value') || ''; }\n    set value(v) { this.setAttribute('value', v); }\n\n    handleSlotChange(e) {\n        this.input = [...e.target.assignedElements()].find(el => el.tagName === 'INPUT');\n        if (this.input) {\n            this.registerElementForValidation(this.input);\n            this.input.value = this._value || this.getAttribute('value') || '';\n            this.input.addEventListener('input', this.handleInput, false);\n            this.input.addEventListener('keyup', this.handleKeyup, false);\n        }\n    }\n\n    handleInput(e) {\n        this.value = e.target.value;\n    }\n\n    handleKeyup() { }\n\n    disconnectedCallback() {\n        this.input.removeEventListener('input', this.handleInput);\n        this.input.removeEventListener('keyup', this.handleKeyup);\n        this.shadowInput.removeEventListener('slotchange', this.handleSlotChange);\n    }\n}\n\nif (!window.customElements.get('field-input')) {\n    window.customElements.define('field-input', FieldInput);\n}\n"],"names":["FieldInput","FormElement","constructor","super","el","document","createElement","innerHTML","this","attachShadow","mode","shadowRoot","appendChild","content","cloneNode","input","handleInput","bind","handleKeyup","handleSlotChange","shadowInput","querySelector","addEventListener","value","getAttribute","v","setAttribute","e","target","assignedElements","find","tagName","registerElementForValidation","_value","disconnectedCallback","removeEventListener","window","customElements","get","define"],"mappings":"uDAKO,MAAMA,mBAAmBC,EAE5BC,cACIC,QAAQ,MAAMC,EAAGC,SAASC,cAAc,YAAYF,EAAGG,UAAU,m1BAAm1BC,KAAKC,aAAa,CAACC,KAAK,SAASF,KAAKG,WAAWC,YAAYR,EAAGS,QAAQC,WAAU,IACt+BN,KAAKO,MAAQ,KACbP,KAAKQ,YAAcR,KAAKQ,YAAYC,KAAKT,MACzCA,KAAKU,YAAcV,KAAKU,YAAYD,KAAKT,MACzCA,KAAKW,iBAAmBX,KAAKW,iBAAiBF,KAAKT,MACnDA,KAAKY,YAAcZ,KAAKG,WAAWU,cAAc,sBACjDb,KAAKY,YAAYE,iBAAiB,aAAcd,KAAKW,kBAAkB,EAC1E,CAEGI,YAAU,OAAOf,KAAKgB,aAAa,UAAY,EAAK,CACpDD,UAAME,GAAKjB,KAAKkB,aAAa,QAASD,EAAK,CAE/CN,iBAAiBQ,GACbnB,KAAKO,MAAQ,IAAIY,EAAEC,OAAOC,oBAAoBC,MAAK1B,GAAqB,UAAfA,EAAG2B,UACxDvB,KAAKO,QACLP,KAAKwB,6BAA6BxB,KAAKO,OACvCP,KAAKO,MAAMQ,MAAQf,KAAKyB,QAAUzB,KAAKgB,aAAa,UAAY,GAChEhB,KAAKO,MAAMO,iBAAiB,QAASd,KAAKQ,aAAa,GACvDR,KAAKO,MAAMO,iBAAiB,QAASd,KAAKU,aAAa,GAE9D,CAEDF,YAAYW,GACRnB,KAAKe,MAAQI,EAAEC,OAAOL,KACzB,CAEDL,cAAiB,CAEjBgB,uBACI1B,KAAKO,MAAMoB,oBAAoB,QAAS3B,KAAKQ,aAC7CR,KAAKO,MAAMoB,oBAAoB,QAAS3B,KAAKU,aAC7CV,KAAKY,YAAYe,oBAAoB,aAAc3B,KAAKW,iBAC3D,EAGAiB,OAAOC,eAAeC,IAAI,gBAC3BF,OAAOC,eAAeE,OAAO,cAAevC"}