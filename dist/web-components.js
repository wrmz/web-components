!function(t){class ChevronIcon extends HTMLElement{constructor(){super();const t=document.createElement("template");t.innerHTML='<style>svg{display:flex;align-items:center;justify-content:center;width:var(--width,24px);height:var(--height,24px)}</style><svg width="17" height="9" viewBox="0 0 17 9" xmlns="http://www.w3.org/2000/svg" class="svg-chevron" fill="currentColor"><title>Chevron Icon</title><path d="M16.749.356l-.255-.255a.43.43 0 00-.61 0L8.878 7.113 1.866.1a.43.43 0 00-.61 0l-.255.255a.43.43 0 000 .61l7.568 7.57a.43.43 0 00.61 0l7.566-7.57a.428.428 0 00.004-.61z" fill-rule="nonzero"/></svg>',this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(t.content.cloneNode(!0))}static get observedAttributes(){return["title"]}attributeChangedCallback(t,e,i){this.shadowRoot.querySelector("svg title").textContent=i}}function e(...t){!t&&console.error("Please register your components")}window.customElements.get("chevron-icon")||window.customElements.define("chevron-icon",ChevronIcon);class InfoMessage extends HTMLElement{constructor(){super();const t=document.createElement("template");t.innerHTML='<style>:host{display:none;padding:2px;font-size:12px;line-height:16px;color:#555;align-items:center}:host([shown]){display:flex}:host([role=alert][shown]:not([invalid])){display:none}:host([role=alert][invalid][shown]){display:flex}</style><chevron-icon aria-hidden="true"></chevron-icon><slot></slot>',this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(t.content.cloneNode(!0)),e(ChevronIcon),this.shadowRoot.querySelector("slot").addEventListener("slotchange",this.handleSlotChange,!1)}handleSlotChange(t){t.target.assignedElements({flatten:!0}).length>0?this.setAttribute("shown",""):this.removeAttribute("shown")}}window.customElements.get("info-message")||window.customElements.define("info-message",InfoMessage);class FormElement extends HTMLElement{static get observedAttributes(){return["invalid","value"]}constructor(){super(),this.input=null,this.radios=null,this.handleFormElementInvalid=this.handleFormElementInvalid.bind(this),this.handleFormElementInput=this.handleFormElementInput.bind(this)}get valid(){return!this.hasAttribute("invalid")&&!this.hasAttribute("aria-invalid")}set valid(t){t?(this.removeAttribute("invalid"),this.removeAttribute("aria-invalid")):(this.setAttribute("invalid",""),this.setAttribute("aria-invalid",""))}registerElementForValidation(t){t.addEventListener("invalid",this.handleFormElementInvalid,!1),t.addEventListener("input",this.handleFormElementInput,!1)}handleFormElementInvalid(t){this.valid=!1,this.toggleInvalidAttribute(t.target)}handleFormElementInput(t){const e=t.target;this.valid=e.checkValidity(),this.toggleInvalidAttribute(e)}toggleInvalidAttribute(t){const e=this.shadowRoot.querySelector('info-message[role="alert"]');e&&(t.validity.valid?e.removeAttribute("invalid"):e.setAttribute("invalid",""))}handleChanged(){const t=this.shadowRoot.querySelector('info-message[role="alert"]');t&&(this.hasAttribute("invalid")?t.setAttribute("invalid",""):t.removeAttribute("invalid"))}attributeChangedCallback(){this.handleChanged()}}class FieldInput extends FormElement{constructor(){super();const t=document.createElement("template");t.innerHTML='<style>:host{display:grid;grid-gap:3px;width:100%;height:max-content;box-sizing:border-box}::slotted(input),::slotted(textarea){width:100%;font-size:14px;line-height:20px;padding:13px 15px;margin:0;border:1px solid var(--primary-light);border-radius:5px;color:#555;outline:0;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis}:host([invalid]) ::slotted(input),:host([invalid]) ::slotted(textarea){border:2px solid var(--warning-mid);padding:12px 14px}::slotted(input::placeholder),::slotted(textarea::placeholder){color:#767676}::slotted(input:focus),::slotted(textarea:focus){border:2px solid #555;padding:12px 14px}</style><div class="field"><slot name="label"></slot><slot name="input"></slot><info-message role="status"><slot name="info"></slot></info-message><info-message role="alert"><slot name="error"></slot></info-message></div>',this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(t.content.cloneNode(!0)),this.input=null,this.handleInput=this.handleInput.bind(this),this.handleKeyup=this.handleKeyup.bind(this),this.handleSlotChange=this.handleSlotChange.bind(this),this.shadowInput=this.shadowRoot.querySelector('slot[name="input"]'),this.shadowInput.addEventListener("slotchange",this.handleSlotChange,!1)}get value(){return this.getAttribute("value")||""}set value(t){this.setAttribute("value",t)}handleSlotChange(t){this.input=[...t.target.assignedElements()].find((t=>"INPUT"===t.tagName)),this.input&&(this.registerElementForValidation(this.input),this.input.value=this._value||this.getAttribute("value")||"",this.input.addEventListener("input",this.handleInput,!1),this.input.addEventListener("keyup",this.handleKeyup,!1))}handleInput(t){this.value=t.target.value}handleKeyup(){}disconnectedCallback(){this.input.removeEventListener("input",this.handleInput),this.input.removeEventListener("keyup",this.handleKeyup),this.shadowInput.removeEventListener("slotchange",this.handleSlotChange)}}window.customElements.get("field-input")||window.customElements.define("field-input",FieldInput);class RadioGroup extends FormElement{static sanitize(t){return(t+"").trim().replace(/[^0-9.]*/g,"")}constructor(){super();const t=document.createElement("template");t.innerHTML='<style>:host{display:grid;appearance:none}:host fieldset{position:relative;display:grid;margin:0;padding:0;border:0}:host .radio-group__options{display:grid;grid-auto-flow:column;grid-auto-columns:1fr;gap:20px}</style><fieldset class="radio-group"><legend class="radio-group__legend"><slot name="label"></slot></legend><div class="radio-group__options"><slot></slot></div><info-message role="status"><slot name="info-message"></slot></info-message><info-message role="alert"><slot name="error"></slot></info-message></fieldset>',this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(t.content.cloneNode(!0)),e(InfoMessage),this.radios=null,this.handleSlotChange=this.handleSlotChange.bind(this),this.shadowRadios=this.shadowRoot.querySelector(".radio-group__options slot"),this.shadowRadios.addEventListener("slotchange",this.handleSlotChange,!1)}get value(){return this.getAttribute("value")||""}set value(t){this.setAttribute("value",t)}get numeric(){const t=RadioGroup.sanitize(this.value);return isNaN(t)?0:t}get selectedRadio(){return this.radios&&this.value?this.radios.find((t=>t.checked)):null}set selectedRadio(t){if(t&&this.radios){const e=this.radios.find((e=>e.value===t));e&&(e.checked=!0)}}handleSlotChange(t){this.radios=[...t.target.assignedElements()].flatMap((t=>[t,...t.children])).filter((t=>"INPUT"===t.tagName)),this.value&&(this.selectedRadio=this.value),this.addEventListener("input",this.handleInput,!1)}handleInput(t){this.value=t.target.value}attributeChangedCallback(t,e,i){this.handleChanged(),"value"===t&&(this._value=i)}detachedCallback(){this.removeEventListener("input",this.handleInput)}}window.customElements.get("radio-group")||window.customElements.define("radio-group",RadioGroup);class ChartDonut extends HTMLElement{static get observedAttributes(){return["colors","values","labels"]}static degreesToRadians(t){return t*(Math.PI/180)}constructor(){super();const t=document.createElement("template");t.innerHTML='<style>.donut circle{cursor:pointer;pointer-events:stroke;transition:filter .2s linear,transform .2s linear}.donut circle:focus{outline:0}.donut circle:focus,.donut circle:hover{filter:brightness(80%)}</style><div class="chart chart--donut"><svg version="1.1" baseProfile="full" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" width="160" height="160" viewBox="0 0 160 160" class="donut"></svg></div>',this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(t.content.cloneNode(!0)),this.gap=2,this.cx=80,this.cy=80,this.radius=60,this.angleOffset=-90,this.chartData=[],this.segmentElems=[],this.isLoaded=!1,this.svg=this.shadowRoot.querySelector("svg"),this.generateSegment=this.generateSegment.bind(this),this.updateSegment=this.updateSegment.bind(this)}get currencyFormat(){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format}set colors(t){this.setAttribute("colors",JSON.stringify(t))}get colors(){const t=(this.getAttribute("colors")||"").replace(/'/g,'"');return t?JSON.parse(t):["red","green","blue"]}set labels(t){this.setAttribute("labels",JSON.stringify(t))}get labels(){const t=(this.getAttribute("labels")||"").replace(/'/g,'"');return t?JSON.parse(t):[]}set values(t){this.setAttribute("values",JSON.stringify(t))}get values(){const t=(this.getAttribute("values")||"").replace(/'/g,'"');return t?JSON.parse(t):[]}get total(){return this.values.length?this.values.reduce(((t,e)=>t+e)):0}get circumference(){return 2*Math.PI*this.radius}get adjustedCircumference(){return this.circumference-this.gap}generateSegments(){this.values.forEach(this.generateSegment)}generateSegment(t,e){const i=document.createElementNS("http://www.w3.org/2000/svg","circle"),s=document.createElementNS("http://www.w3.org/2000/svg","title"),a={degrees:this.angleOffset};this.angleOffset+=360*this.dataPercentage(this.values[e]),this.chartData.push(a),i.setAttribute("tabindex","0"),i.setAttribute("cx",this.cx),i.setAttribute("cy",this.cy),i.setAttribute("r",this.radius),i.setAttribute("fill","transparent"),i.setAttribute("stroke",this.colors[e]),i.setAttribute("stroke-width",30),i.setAttribute("stroke-dasharray",this.adjustedCircumference),i.setAttribute("stroke-dashoffset",this.calculateStrokeDashOffset(this.values[e])),i.setAttribute("transform",this.calculateTransform(e)),i.appendChild(s),s.textContent=`${this.labels[e]}: ${this.currencyFormat(t)}`,this.segmentElems.push(i),this.svg.appendChild(i)}updateSegments(){this.angleOffset=-90,this.chartData=[],this.values.forEach(this.updateSegment)}updateSegment(t,e){const i=this.segmentElems[e],s=i.querySelector("title"),a={degrees:this.angleOffset};this.angleOffset+=360*this.dataPercentage(this.values[e]),this.chartData.push(a),s.textContent=`${this.labels[e]}: ${this.currencyFormat(t)}`,i.setAttribute("stroke-dasharray",this.adjustedCircumference),i.setAttribute("stroke-dashoffset",this.calculateStrokeDashOffset(this.values[e])),i.setAttribute("transform",this.calculateTransform(e))}calculateStrokeDashOffset(t){const e=this.dataPercentage(t)*this.circumference;return this.circumference-e}calculateTransform(t){return`rotate(${this.chartData[t].degrees}, ${this.cx}, ${this.cy})`}dataPercentage(t){return this.total&&t?t/this.total:0}destroySegments(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild),this.segmentElems.shift(),this.chartData.shift();this.angleOffset=-90}connectedCallback(){this.generateSegments(),this.isLoaded=!0}attributeChangedCallback(){this.isLoaded&&this.colors&&this.values&&this.total&&this.updateSegments()}}window.customElements.get("chart-donut")||window.customElements.define("chart-donut",ChartDonut);class GlGoogleMarker extends HTMLElement{static get observedAttributes(){return["latitude","longitude"]}constructor(){super()}get latitude(){const t=parseFloat(this.hasAttribute("latitude")?this.getAttribute("latitude"):"0");return isNaN(t)?0:t}get longitude(){const t=parseFloat(this.hasAttribute("longitude")?this.getAttribute("longitude"):"0");return isNaN(t)?0:t}}window.customElements.get("gl-google-marker")||window.customElements.define("gl-google-marker",GlGoogleMarker);class GlGoogleMap extends HTMLElement{static get observedAttributes(){return["key","latitude","longitude","overlay","map-style","show-markers","show-kml","show-image"]}static async getStyle(t){const e=await fetch(t);return await e.json()}constructor(){super();const t=document.createElement("template");t.innerHTML='<style>.lot__content,.lot__image{background:rgb(255 255 255 / .85);backdrop-filter:brightness(140%) blur(10px)}.lot__content h3 span,.lot__cta{font-weight:300;text-transform:uppercase;color:#fff}:host{position:relative;display:block;width:100%;min-height:400px}:host .gl-map{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;border-radius:4px;overflow:hidden}:host .gl-map__detail,:host .gl-map__map{position:absolute;top:0;height:100%}:host .gl-map__map{left:0;width:100%}:host .gl-map__detail{right:0;width:0;overflow:hidden;box-sizing:border-box;transition:width .2s ease-out;will-change:width}:host .gl-map__detail::after{content:\'\';position:absolute;top:0;left:0;width:100%;mix-blend-mode:multiply}:host .gl-map.has-detail .gl-map__detail{width:50%}:host .gl-map__detail-close{cursor:pointer;position:absolute;display:flex;align-items:center;justify-content:center;top:9px;right:9px;width:30px;height:30px;margin:0;padding:0;font-size:30px;font-weight:300;color:#666;border:0;border-radius:4px;background:rgb(255 255 255 / .85);backdrop-filter:brightness(140%) blur(10px);transition:color .2s ease-out,background .2s ease-out}.lot,.lot__image{position:relative}:host .gl-map__detail-close:focus,:host .gl-map__detail-close:hover{color:#333;background:#fff}:host .gl-map__detail-content{position:relative;top:3px;width:calc(100% - 3px);height:calc(100% - 6px);overflow:auto;box-sizing:border-box}.lot{display:grid;grid-template-rows:max-content 1fr;height:100%}.lot__image{width:100%;height:0;margin-bottom:3px;padding-top:calc(100% * (9 / 16));border-radius:0 4px 0 0}.lot__cta,.lot__img{width:calc(100% - 6px)}.lot__img{position:absolute;display:block;top:3px;left:3px;height:calc(100% - 6px);object-fit:cover;object-position:center;border-radius:2px 4px 2px 2px}.lot__content{position:relative;padding:17px;border-radius:0 0 4px}.lot__content h3{display:grid;grid-auto-flow:column;grid-auto-columns:max-content;gap:3px;margin:0 0 10px}.lot__content h3 span{display:inline-block;margin:0;padding:.25em .75em;font-size:12px;border-radius:2px;background:#333}.lot__content h3 .sold{background:#600}.lot__content h3 .model,.lot__cta{background:#1649c8}.lot__content h3 .pending{background:#9d7f09}.lot__content p{margin:0;font-size:16px}.lot__snapshot{display:grid;grid-template-columns:repeat(3,max-content);gap:.75em;margin:10px 0;line-height:1}.lot__snapshot div:not(:first-child){padding-left:.75em;border-left:1px solid #666}.lot__cta{position:absolute;display:flex;align-items:center;justify-content:center;height:40px;right:3px;bottom:3px;padding:0 17px;font-size:14px;text-decoration:none;border-radius:2px 2px 4px;box-sizing:border-box;transition:background .2s ease-out}.lot__cta:focus,.lot__cta:hover{background:#142755}</style><div class="gl gl-map"><div class="gl-map__map"></div></div>',this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(t.content.cloneNode(!0)),e(GlGoogleMarker),this.isAdmin=!0,this.key="",this._id=crypto.randomUUID?crypto.randomUUID().split("-").pop():Math.round(9999*Math.random()),this._imageElem=this.querySelector("img"),this._markerElems=[...this.querySelectorAll("gl-google-marker")],this._markers=[],this._adminMarkers=[],this.apiLoadedCBName=`gl_cb_${this._id}`,this.map=void 0,this.styleLayer=void 0,this.imageLayer=void 0,this.imageNE=0,this.imageNW=0,this.imageSW=0,this.imageSE=0,this.kmlLayer=void 0,this.elem=this.shadowRoot.querySelector(".gl-map"),this.mapElem=this.shadowRoot.querySelector(".gl-map__map"),this.detailElem=null,this.elem.setAttribute("id",`map_${this._id}`),this.generateAdminMarker=this.generateAdminMarker.bind(this),this.generateMarker=this.generateMarker.bind(this),this.loadDetail=this.loadDetail.bind(this)}get isMarkersVisible(){return"true"===this.getAttribute("show-markers")}set isMarkersVisible(t){this.setAttribute("show-markers",t)}get isKmlVisible(){return"true"===this.getAttribute("show-kml")}set isKmlVisible(t){this.setAttribute("show-kml",t)}get isImageVisible(){return"true"===this.getAttribute("show-image")}set isImageVisible(t){this.setAttribute("show-image",t)}get latitude(){const t=parseFloat(this.hasAttribute("latitude")?this.getAttribute("latitude"):"0");return isNaN(t)?0:t}get longitude(){const t=parseFloat(this.hasAttribute("longitude")?this.getAttribute("longitude"):"0");return isNaN(t)?0:t}get overlay(){return this.getAttribute("overlay")}get mapStyle(){return this.getAttribute("map-style")}get markerElems(){return[...this._markerElems]}get imageElemPosition(){const t=parseFloat(this._imageElem.getAttribute("latitude-ne")),e=parseFloat(this._imageElem.getAttribute("longitude-ne")),i=parseFloat(this._imageElem.getAttribute("latitude-sw")),s=parseFloat(this._imageElem.getAttribute("longitude-sw"));return{neLatitude:isNaN(t)?0:t,neLongitude:isNaN(e)?0:e,swLatitude:isNaN(i)?0:i,swLongitude:isNaN(s)?0:s}}set imageElemPosition(t){if(this._imageElem.setAttribute("latitude-ne",t.neLatitude),this._imageElem.setAttribute("longitude-ne",t.neLongitude),this._imageElem.setAttribute("latitude-sw",t.swLatitude),this._imageElem.setAttribute("longitude-sw",t.swLongitude),google&&google.maps&&this.imageLayer){const e=new google.maps.LatLngBounds(new google.maps.LatLng(t.neLatitude,t.neLongitude),new google.maps.LatLng(t.swLatitude,t.swLongitude));this.imageLayer.setBounds(e),this.imageLayer.draw()}}get adminMarkers(){return this._adminMarkers}set adminMarkers(t){this._adminMarkers=Array.isArray(t)?t.map(this.generateAdminMarker):[]}get markers(){return this._markers}set markers(t){this.map&&google&&google.maps?this._markers=[...this.adminMarkers,...t.map(this.generateMarker)]:this._markers=[...this.adminMarkers]}handleApiLoaded(){this.map=new google.maps.Map(this.mapElem,{center:{lat:this.latitude,lng:this.longitude},mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,fullscreenControl:!1,zoom:8}),this.setMapStyle(),this.placeImages(),this.generateKml(),this.markers=this.markerElems}async placeImages(){const t=this._imageElem.getAttribute("src"),e=this.imageElemPosition.neLatitude,i=this.imageElemPosition.neLongitude,s=this.imageElemPosition.swLatitude,a=this.imageElemPosition.swLongitude,o=new google.maps.LatLngBounds(new google.maps.LatLng(e,i),new google.maps.LatLng(s,a));function n(t,e,i){this._bounds=t,this._imageElem=e,this._map=i,this._div=void 0,this.setMap(i)}this.adminMarkers=[{label:"ne",latitude:e,longitude:i},{label:"sw",latitude:s,longitude:a}],t&&(n.prototype=new google.maps.OverlayView,n.prototype.setBounds=function(t){this._bounds=t},n.prototype.onAdd=function(){const t=this.getPanes();this._div=document.createElement("div"),this._div.style.border="2px solid red",this._div.style.position="absolute",this._imageElem.parentNode.removeChild(this._imageElem),this._imageElem.style.width="100%",this._imageElem.style.height="100%",this._imageElem.style.position="absolute",this._imageElem.style.display="block",this._div.appendChild(this._imageElem),t.overlayLayer.appendChild(this._div)},n.prototype.draw=function(t){const e=this.getProjection(),i=t?t.getNorthEast():this._bounds.getNorthEast(),s=t?t.getSouthWest():this._bounds.getSouthWest(),a=e.fromLatLngToDivPixel(s),o=e.fromLatLngToDivPixel(i);this._div&&(this._div.style.top=`${a.y}px`,this._div.style.left=`${o.x}px`,this._div.style.width=a.x-o.x+"px",this._div.style.height=o.y-a.y+"px")},n.prototype.onRemove=function(){this._div&&(this._div.parentNode.removeChild(this._div),this._div=null)},this.imageLayer=new n(o,this._imageElem,this.map),this.imageLayer.setMap(this.map))}async setMapStyle(){const t=await GlGoogleMap.getStyle(this.mapStyle);t&&(this.styleLayer=new google.maps.StyledMapType(t,{name:`Map${this._id}`}),this.map.mapTypes.set(`map_${this._id}`,this.styleLayer),this.map.setMapTypeId(`map_${this._id}`))}generateKml(){this.kmlLayer=new google.maps.KmlLayer({url:this.overlay,map:this.map,suppressInfoWindows:!0})}generateAdminMarker(t){const e=new google.maps.Marker({map:this.map,type:"admin",position:{lat:t.latitude,lng:t.longitude},icon:{path:"M10 20c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z",scale:1,fillColor:"white",strokeColor:"white",fillOpacity:.8,strokeWeight:2,anchor:new google.maps.Point(10,10)},draggable:!0});return e.addListener("dragstart",(t=>{console.log("drag began",t)})),e.addListener("drag",(e=>{const i=t.label,s=e.latLng.lat(),a=e.latLng.lng();this.imageElemPosition={neLatitude:"nw"===i||"ne"===i?s:this.imageElemPosition.neLatitude,neLongitude:"nw"===i||"ne"===i?a:this.imageElemPosition.neLongitude,swLatitude:"sw"===i||"se"==i?s:this.imageElemPosition.swLatitude,swLongitude:"sw"===i||"se"==i?a:this.imageElemPosition.swLongitude}})),e.addListener("dragend",(t=>{console.log("drag finished",t)})),e}generateMarker(t){const e=new google.maps.Marker({map:this.map,id:t.id,type:"client",position:{lat:t.latitude,lng:t.longitude},icon:{path:"M10 0c5.52285 0 10 4.47715 10 10 0 7.50794-5.59957 12.48988-10 12.48988S0 17.78101 0 10C0 4.47715 4.47715 0 10 0Zm0 3.4743c-3.60404 0-6.5257 2.92166-6.5257 6.5257 0 3.60404 2.92166 6.5257 6.5257 6.5257 3.60404 0 6.5257-2.92166 6.5257-6.5257 0-3.60404-2.92166-6.5257-6.5257-6.5257Zm0 3.0039c1.94504 0 3.5218 1.57676 3.5218 3.5218 0 1.94504-1.57676 3.5218-3.5218 3.5218-1.94504 0-3.5218-1.57676-3.5218-3.5218 0-1.94504 1.57676-3.5218 3.5218-3.5218Z",fillColor:"red",fillOpacity:.6,strokeWeight:0,anchor:new google.maps.Point(10,22)},animation:google.maps.Animation.DROP,draggable:!0});return e.addListener("mouseover",(()=>{e.setIcon({path:"M10 0c5.52285 0 10 4.47715 10 10 0 7.50794-5.59957 12.48988-10 12.48988S0 17.78101 0 10C0 4.47715 4.47715 0 10 0Zm0 3.4743c-3.60404 0-6.5257 2.92166-6.5257 6.5257 0 3.60404 2.92166 6.5257 6.5257 6.5257 3.60404 0 6.5257-2.92166 6.5257-6.5257 0-3.60404-2.92166-6.5257-6.5257-6.5257Zm0 3.0039c1.94504 0 3.5218 1.57676 3.5218 3.5218 0 1.94504-1.57676 3.5218-3.5218 3.5218-1.94504 0-3.5218-1.57676-3.5218-3.5218 0-1.94504 1.57676-3.5218 3.5218-3.5218Z",fillColor:"red",fillOpacity:1,strokeWeight:0,anchor:new google.maps.Point(10,22)})})),e.addListener("mouseout",(()=>{e.setIcon({path:"M10 0c5.52285 0 10 4.47715 10 10 0 7.50794-5.59957 12.48988-10 12.48988S0 17.78101 0 10C0 4.47715 4.47715 0 10 0Zm0 3.4743c-3.60404 0-6.5257 2.92166-6.5257 6.5257 0 3.60404 2.92166 6.5257 6.5257 6.5257 3.60404 0 6.5257-2.92166 6.5257-6.5257 0-3.60404-2.92166-6.5257-6.5257-6.5257Zm0 3.0039c1.94504 0 3.5218 1.57676 3.5218 3.5218 0 1.94504-1.57676 3.5218-3.5218 3.5218-1.94504 0-3.5218-1.57676-3.5218-3.5218 0-1.94504 1.57676-3.5218 3.5218-3.5218Z",fillColor:"red",fillOpacity:.6,strokeWeight:0,anchor:new google.maps.Point(10,22)})})),e.addListener("dragend",(t=>{const i=new CustomEvent("dragend",{detail:{map:this.map,marker:e,position:{latitude:t.latLng.lat(),longitude:t.latLng.lng()}}});this.dispatchEvent(i)})),e.addListener("click",(()=>{this.loadDetail(e)})),e}generateDetail(){const t=document.createElement("div"),e=document.createElement("div"),i=document.createElement("button");i.setAttribute("type","button"),i.className="gl-map__detail-close",i.innerHTML="&times;",i.addEventListener("click",this.closeDetail.bind(this),!1),e.className="gl-map__detail-content",t.className="gl-map__detail",t.appendChild(e),t.appendChild(i),this.elem.appendChild(t),this.detailElem=t,this.detailContentElem=e}loadDetail(t){const e=this.markerElems.find((e=>e.id===t.id)),i=e?[...e.children]:[];for(this.elem.classList.remove("has-detail"),this.detailElem||this.generateDetail();this.detailContentElem.firstChild;)this.detailContentElem.removeChild(this.detailContentElem.lastChild),console.log("removing child");i.forEach((t=>{this.detailContentElem.appendChild(t.cloneNode(!0))})),this.elem.classList.add("has-detail")}closeDetail(){this.elem.classList.remove("has-detail")}loadGoogleMapsApi(){const t=document.createElement("script");t.id=`map_script_${this._id}`,t.type="text/javascript",t.src=`https://maps.googleapis.com/maps/api/js?key=${this.key}&callback=${this.apiLoadedCBName}&v=weekly`,t.defer=!0,t.async=!0,window[this.apiLoadedCBName]=this.handleApiLoaded.bind(this),document.head.appendChild(t)}connectedCallback(){this._markerElems=this.querySelectorAll("gl-google-marker")}adoptedCallback(){this._markerElems=this.querySelectorAll("gl-google-marker")}attributeChangedCallback(t,e,i){"key"===t&&i&&(this.key=i,this.removeAttribute("key"),this.loadGoogleMapsApi()),"show-markers"===t&&this.markers.forEach((t=>{"client"===t.type&&t.setVisible(this.isMarkersVisible)})),"show-kml"===t&&this.kmlLayer.setMap(this.isKmlVisible?this.map:null),"show-image"===t&&(this.imageLayer.setMap(this.isImageVisible?this.map:null),this.markers.forEach((t=>{"admin"===t.type&&t.setVisible(this.isImageVisible)})))}}window.customElements.get("gl-google-map")||window.customElements.define("gl-google-map",GlGoogleMap);class MortgageCalcInput extends FieldInput{static sanitize(t){return(t+"").trim().replace(/[^0-9.]*/g,"")}get type(){return this.getAttribute("type")||"currency"}get name(){return this.getAttribute("name")||""}get stylizedFormat(){return new Intl.NumberFormat("en-US",{minimumFractionDigits:"percentage"===this.type?1:0,maximumFractionDigits:3}).format}get currencyFormat(){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format}get numeric(){const t=MortgageCalcInput.sanitize(this.value),e=!t||isNaN(t)?0:t;return Number.isInteger(e)?parseInt(e,10):parseFloat(e)}get stylized(){const t=this.stylizedFormat(this.numeric);return"percentage"===this.type?t+"%":t}get currency(){const t=this.numeric;return this.currencyFormat(t)}handleKeyup(t){const e=t.target.value;this.value="."===e?e.replace(".","0."):e,"currency"===this.type?t.target.value=this.currency:"percentage"===this.type&&(t.target.value=this.stylized)}attributeChangedCallback(t){this.handleChanged(),"value"===t&&("currency"===this.type?this._value=this.currency:"percentage"===this.type&&(this._value=this.stylized))}}window.customElements.get("mortgage-calc-input")||window.customElements.define("mortgage-calc-input",MortgageCalcInput);class MortgageCalc extends HTMLElement{static get observedAttributes(){return["price","downpayment","interest","taxes","term","pmi","hoa","monthly-payment","colors"]}constructor(){super();const t=document.createElement("template");t.innerHTML='<style>:host{display:grid;grid-template-columns:50% 50%;gap:50px;--box-shadow-color:var(--primary-light);--box-shadow-width:1px;--box-shadow-color2:transparent;--box-shadow-width2:1px}:host .mortgage-calc__form{display:grid;grid-template-columns:50% 50%;gap:20px}radio-group{grid-column:1/span 2}:host .mortgage-calc__radio{position:relative;display:flex}:host .mortgage-calc__radio input{cursor:pointer;position:absolute;top:0;left:0;min-width:15px;height:15px;border-radius:50%;margin:22px 15px;padding:0;background-clip:content-box;appearance:none;outline:0;box-shadow:inset 0 0 0 var(--box-shadow-width) var(--box-shadow-color),inset 0 0 0 var(--box-shadow-width2) var(--box-shadow-color2)}:host .mortgage-calc__radio input:checked{background-color:var(--primary-mid);--box-shadow-color:var(--primary-mid);--box-shadow-width:2px;--box-shadow-width2:4px;--box-shadow-color2:white}:host .mortgage-calc__radio label{cursor:pointer;display:block;width:100%;padding:15px 20px 15px 40px;border:1px solid var(--primary-light);border-radius:5px}</style><div class="mortgage-calc__form"><mortgage-calc-input name="price" type="currency"><label for="price" slot="label">Price</label> <input type="text" id="price" slot="input" placeholder="123,456" pattern="[0-9$,]+" maxlength="9"></mortgage-calc-input><mortgage-calc-input name="downpayment" type="currency"><label for="downpayment" slot="label">Downpayment</label> <input type="text" id="downpayment" slot="input" placeholder="123,456" pattern="[0-9$,]+" maxlength="9"></mortgage-calc-input><mortgage-calc-input name="interest" type="percentage"><label for="interest" slot="label">Interest Rate</label> <input type="text" id="interest" slot="input" placeholder="3.5" pattern="[0-9.]+" maxlength="9"></mortgage-calc-input><mortgage-calc-input name="taxes" type="percentage"><label for="taxes" slot="label">Est. Monthly Property Taxes</label> <input type="text" id="taxes" slot="input" placeholder="1.4" pattern="[0-9.]+" maxlength="9"></mortgage-calc-input><mortgage-calc-input name="hoa" type="currency"><label for="hoa" slot="label">Monthly HOA Fees</label> <input type="text" id="hoa" slot="input" placeholder="200" pattern="[0-9.]+" maxlength="9"></mortgage-calc-input><radio-group name="term"><span slot="label">Choose a Term</span><div class="mortgage-calc__radio"><input id="term-15" type="radio" value="15" name="term"> <label for="term-15">15-Year Fixed</label></div><div class="mortgage-calc__radio"><input id="term-30" type="radio" value="30" name="term"> <label for="term-30">30-Year Fixed</label></div></radio-group></div><div class="mortgage-calc__results"><div class="mortgage-calc__chart">\x3c!-- Chart is injected here --\x3e</div><div class="mortgage-calc__data"><div class="mortgage-calc__principal">Principal + Interest <span id="outputPrincipal"></span></div><div class="mortgage-calc__taxes">Taxes <span id="outputTaxes"></span></div><div class="mortgage-calc__taxes">Fees &amp; Dues: <span id="outputFees"></span></div><div class="mortgage-calc__total">Amount Per Month: <span id="outputPerMonth"></span></div></div></div>',this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(t.content.cloneNode(!0)),e(MortgageCalcInput,RadioGroup,ChartDonut),this.chartElement=void 0,this.elements={price:this.shadowRoot.querySelector('mortgage-calc-input[name="price"]'),downpayment:this.shadowRoot.querySelector('mortgage-calc-input[name="downpayment"]'),interest:this.shadowRoot.querySelector('mortgage-calc-input[name="interest"]'),taxes:this.shadowRoot.querySelector('mortgage-calc-input[name="taxes"]'),term:this.shadowRoot.querySelector('radio-group[name="term"]'),hoa:this.shadowRoot.querySelector('mortgage-calc-input[name="hoa"]')},this.output={principal:this.shadowRoot.querySelector("#outputPrincipal"),taxes:this.shadowRoot.querySelector("#outputTaxes"),fees:this.shadowRoot.querySelector("#outputFees"),perMonth:this.shadowRoot.querySelector("#outputPerMonth")},this.addEventListener("input",this.handleInput,!1)}get colors(){let t=this.getAttribute("colors")||"";return t=t.replace(/'/g,'"'),t?JSON.parse(t):[]}get currencyFormat(){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format}get price(){return this.elements?this.elements.price.numeric:0}set price(t){this.elements.price.value=t}get downpayment(){return this.elements?this.elements.downpayment.numeric:0}set downpayment(t){this.elements.downpayment.value=t}get interest(){return this.elements?this.elements.interest.numeric:0}set interest(t){this.elements.interest.value=t}get taxes(){return this.elements?this.elements.taxes.numeric:0}set taxes(t){this.elements.taxes.value=t}get hoa(){return this.elements?this.elements.hoa.numeric:0}set hoa(t){this.elements.hoa.value=t}get term(){return this.elements?this.elements.term.numeric:0}set term(t){this.elements.term.value=t}get pmi(){return this.getAttribute("pmi")||""}get insurance(){return this.getAttribute("insurance")||""}get mortgagePrincipal(){return this.price-this.downpayment}get monthlyInterestRate(){return this.interest/100/12}get numberOfPayments(){return 12*this.term}get monthlyPrincipalAndInterest(){return this.mortgagePrincipal&&this.monthlyInterestRate?this.mortgagePrincipal/((1-Math.pow(1+this.monthlyInterestRate,-this.numberOfPayments))/this.monthlyInterestRate):0}get monthlyMortgagePrincipal(){return this.monthlyPrincipalAndInterest-this.monthlyInterestCost}get monthlyInterestCost(){return this.mortgagePrincipal*this.monthlyInterestRate}get pmiCost(){return this.downpayment/this.price<.2?this.pmi/100*this.mortgagePrincipal/12:0}get taxesCost(){return this.taxes/100*this.price/12}get insuranceCost(){return this.insurance/100*this.price/12}get feesCost(){return this.hoa}get monthlyPayment(){return this.monthlyPrincipalAndInterest+this.taxesCost+this.insuranceCost+this.pmiCost+this.feesCost}generateChart(){const t=this.shadowRoot.querySelector(".mortgage-calc__chart");this.chartElement=document.createElement("chart-donut"),this.chartElement.colors=this.colors,this.chartElement.labels=["Principal + Interest","Taxes","Fees"],this.chartElement.values=[this.monthlyPrincipalAndInterest,this.taxesCost,this.feesCost],t.append(this.chartElement)}handleInput(){this.output.principal.textContent=this.currencyFormat(this.monthlyPrincipalAndInterest),this.output.taxes.textContent=this.currencyFormat(this.taxesCost),this.output.fees.textContent=this.currencyFormat(this.feesCost),this.output.perMonth.textContent=this.currencyFormat(this.monthlyPayment),this.chartElement&&(this.chartElement.values=[this.monthlyPrincipalAndInterest,this.taxesCost,this.feesCost])}connectedCallback(){this.generateChart()}attributeChangedCallback(t,e,i){"price"===t?this.price=i:"downpayment"===t?this.downpayment=i:"interest"===t?this.interest=i:"taxes"===t?this.taxes=i:"term"===t?this.term=i:"hoa"===t&&(this.hoa=i),this.output.principal.textContent=this.currencyFormat(this.monthlyMortgagePrincipal+this.monthlyInterestCost),this.output.taxes.textContent=this.currencyFormat(this.taxesCost),this.output.fees.textContent=this.currencyFormat(this.feesCost),this.output.perMonth.textContent=this.currencyFormat(this.monthlyPayment),this.chartElement&&(this.chartElement.values=[this.monthlyPrincipalAndInterest,this.taxesCost,this.feesCost])}}window.customElements.get("mortgage-calc")||window.customElements.define("mortgage-calc",MortgageCalc),t.ChartDonut=ChartDonut,t.ChevronIcon=ChevronIcon,t.FieldInput=FieldInput,t.GlGoogleMap=GlGoogleMap,t.GlGoogleMarker=GlGoogleMarker,t.InfoMessage=InfoMessage,t.MortgageCalc=MortgageCalc,t.MortgageCalcInput=MortgageCalcInput,t.RadioGroup=RadioGroup,t.registerComponents=e,Object.defineProperty(t,"__esModule",{value:!0})}({});
//# sourceMappingURL=web-components.js.map
