!function(t){class FormElement extends HTMLElement{static get observedAttributes(){return["invalid","value"]}constructor(){super(),this.input=null,this.radios=null,this.handleFormElementInvalid=this.handleFormElementInvalid.bind(this),this.handleFormElementInput=this.handleFormElementInput.bind(this)}get valid(){return!this.hasAttribute("invalid")&&!this.hasAttribute("aria-invalid")}set valid(t){t?(this.removeAttribute("invalid"),this.removeAttribute("aria-invalid")):(this.setAttribute("invalid",""),this.setAttribute("aria-invalid",""))}registerElementForValidation(t){t.addEventListener("invalid",this.handleFormElementInvalid,!1),t.addEventListener("input",this.handleFormElementInput,!1)}handleFormElementInvalid(t){this.valid=!1,this.toggleInvalidAttribute(t.target)}handleFormElementInput(t){const e=t.target;this.valid=e.checkValidity(),this.toggleInvalidAttribute(e)}toggleInvalidAttribute(t){const e=this.shadowRoot.querySelector('info-message[role="alert"]');e&&(t.validity.valid?e.removeAttribute("invalid"):e.setAttribute("invalid",""))}handleChanged(){const t=this.shadowRoot.querySelector('info-message[role="alert"]');t&&(this.hasAttribute("invalid")?t.setAttribute("invalid",""):t.removeAttribute("invalid"))}attributeChangedCallback(){this.handleChanged()}}class FieldInput extends FormElement{constructor(){super(),this.attachShadow({mode:"open"}).innerHTML='<style>:host{display:grid;grid-gap:3px;width:100%;height:max-content;box-sizing:border-box}::slotted(input),::slotted(textarea){width:100%;font-size:14px;line-height:20px;padding:13px 15px;margin:0;border:1px solid var(--primary-light);border-radius:5px;color:#555;outline:0;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis}:host([invalid]) ::slotted(input),:host([invalid]) ::slotted(textarea){border:2px solid var(--warning-mid);padding:12px 14px}::slotted(input::placeholder),::slotted(textarea::placeholder){color:#767676}::slotted(input:focus),::slotted(textarea:focus){border:2px solid #555;padding:12px 14px}</style><div class="field"><slot name="label"></slot><slot name="input"></slot><info-message role="status"><slot name="info"></slot></info-message><info-message role="alert"><slot name="error"></slot></info-message></div>',this.input=null,this.handleInput=this.handleInput.bind(this),this.handleKeyup=this.handleKeyup.bind(this),this.handleSlotChange=this.handleSlotChange.bind(this),this.shadowInput=this.shadowRoot.querySelector('slot[name="input"]'),this.shadowInput.addEventListener("slotchange",this.handleSlotChange,!1)}get value(){return this.getAttribute("value")||""}set value(t){this.setAttribute("value",t)}handleSlotChange(t){this.input=[...t.target.assignedElements()].find((t=>"INPUT"===t.tagName)),this.input&&(this.registerElementForValidation(this.input),this.input.value=this._value||this.getAttribute("value")||"",this.input.addEventListener("input",this.handleInput,!1),this.input.addEventListener("keyup",this.handleKeyup,!1))}handleInput(t){this.value=t.target.value}handleKeyup(){}disconnectedCallback(){this.input.removeEventListener("input",this.handleInput),this.input.removeEventListener("keyup",this.handleKeyup),this.shadowInput.removeEventListener("slotchange",this.handleSlotChange)}}window.customElements.get("field-input")||window.customElements.define("field-input",FieldInput);class MortgageCalcInput extends FieldInput{static sanitize(t){return(t+"").trim().replace(/[^0-9.]*/g,"")}get type(){return this.getAttribute("type")||"currency"}get name(){return this.getAttribute("name")||""}get stylizedFormat(){return new Intl.NumberFormat("en-US",{minimumFractionDigits:"percentage"===this.type?1:0,maximumFractionDigits:3}).format}get currencyFormat(){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format}get numeric(){const t=MortgageCalcInput.sanitize(this.value),e=!t||isNaN(t)?0:t;return Number.isInteger(e)?parseInt(e,10):parseFloat(e)}get stylized(){const t=this.stylizedFormat(this.numeric);return"percentage"===this.type?t+"%":t}get currency(){const t=this.numeric;return this.currencyFormat(t)}handleKeyup(t){const e=t.target.value;this.value="."===e?e.replace(".","0."):e,"currency"===this.type?t.target.value=this.currency:"percentage"===this.type&&(t.target.value=this.stylized)}attributeChangedCallback(t){this.handleChanged(),"value"===t&&("currency"===this.type?this._value=this.currency:"percentage"===this.type&&(this._value=this.stylized))}}window.customElements.get("mortgage-calc-input")||window.customElements.define("mortgage-calc-input",MortgageCalcInput),t.MortgageCalcInput=MortgageCalcInput,Object.defineProperty(t,"__esModule",{value:!0})}({});
