{"version":3,"file":"mortgage-calc-input.js","sources":["../../../../../../src/modules/form/mortgage-calc-input/mortgage-calc-input.js"],"sourcesContent":["import { FieldInput } from '../field-input/field-input';\n\nexport class MortgageCalcInput extends FieldInput {\n    static sanitize(v) { return (v + '').trim().replace(/[^0-9.]*/g, ''); }\n\n    get type() { return this.getAttribute('type') || 'currency'; }\n    get stylizedFormat() {\n        return new Intl.NumberFormat('en-US', {\n            minimumFractionDigits: this.type === 'percentage' ? 1 : 0,\n            maximumFractionDigits: 2\n        }).format;\n    }\n    get currencyFormat() {\n        return new Intl.NumberFormat('en-US', {\n            style: 'currency',\n            currency: 'USD',\n            minimumFractionDigits: 0,\n            maximumFractionDigits: 0,\n        }).format;\n    }\n    get numeric() {\n        const sanitized = MortgageCalcInput.sanitize(this.value);\n        return isNaN(sanitized) ? 0 : sanitized;\n    }\n    get stylized() {\n        const sanitized = this.numeric;\n        return this.stylizedFormat(sanitized);\n    }\n    get currency() {\n        const sanitized = this.numeric;\n        return this.currencyFormat(sanitized);\n    }\n\n    handleKeyup(e) {\n        const val = e.target.value;\n        this.value = val === '.' ? val.replace('.', '0.') : val;\n        if (this.type === 'currency') {\n            e.target.value = this.currency;\n        } else if (this.type === 'percentage') {\n            e.target.value = this.numeric;\n        }\n\n    }\n\n    attributeChangedCallback(attr) {\n        this.handleChanged();\n        if (attr === 'value') {\n            if (this.type === 'currency') {\n                this._value = this.currency;\n            } else if (this.type === 'percentage') {\n                this._value = this.numeric;\n            }\n        }\n    }\n}\n\nif (!window.customElements.get('mortgage-calc-input')) {\n    window.customElements.define('mortgage-calc-input', MortgageCalcInput);\n}\n"],"names":[],"mappings":"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"}